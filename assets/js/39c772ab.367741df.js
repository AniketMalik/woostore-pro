(self.webpackChunkwoostore_pro_documentation=self.webpackChunkwoostore_pro_documentation||[]).push([[8775],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return d},kt:function(){return m}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=p(n),m=o,f=c["".concat(s,".").concat(m)]||c[m]||u[m]||r;return n?a.createElement(f,i(i({ref:t},d),{},{components:n})):a.createElement(f,i({ref:t},d))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=c;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var p=2;p<r;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},7481:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return i},metadata:function(){return l},toc:function(){return s},default:function(){return d}});var a=n(2122),o=n(9756),r=(n(7294),n(3905)),i={sidebar_position:6,sidebar_label:"Sign Apk Manually"},l={unversionedId:"reference/sign-apk-manually",id:"reference/sign-apk-manually",isDocsHomePage:!1,title:"Sign Apk Manually",description:"In this section you will how to sign the android apk files manually.",source:"@site/docs/reference/sign-apk-manually.md",sourceDirName:"reference",slug:"/reference/sign-apk-manually",permalink:"/woostore_pro_documentation/reference/sign-apk-manually",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/reference/sign-apk-manually.md",version:"current",sidebar_label:"Sign Apk Manually",sidebarPosition:6,frontMatter:{sidebar_position:6,sidebar_label:"Sign Apk Manually"},sidebar:"tutorialSidebar",previous:{title:"Generate Key Hashes Manually",permalink:"/woostore_pro_documentation/reference/key-hash-manually"},next:{title:"Run Application Locally",permalink:"/woostore_pro_documentation/reference/run-application"}},s=[{value:"Getting Started",id:"getting-started",children:[{value:"Open app in android studio",id:"open-app-in-android-studio",children:[]},{value:"Reference the keystore from the app",id:"reference-the-keystore-from-the-app",children:[]},{value:"Configure signing in gradle",id:"configure-signing-in-gradle",children:[]}]}],p={toc:s};function d(e){var t=e.components,n=(0,o.Z)(e,["components"]);return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"In this section you will how to sign the android apk files manually."),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"If you use version ",(0,r.kt)("inlineCode",{parentName:"p"},"v1.5.6")," or above, you do not need to follow this guide as these modifications are already done for you in the application already. If you need to create release keys for your application, please follow this guide instead ",(0,r.kt)("a",{parentName:"p",href:"/mobile-app-setup/release-keys"},(0,r.kt)("strong",{parentName:"a"},"Use Tools Scripts"))))),(0,r.kt)("h2",{id:"getting-started"},"Getting Started"),(0,r.kt)("p",null,"In this section we will modify some of the source files to sign the release build of android applications."),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"Before you proceed")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The following guide assumes that you have created a release keystore file or already have one which you will use to sign the release builds of your android application."),(0,r.kt)("p",{parentName:"div"},"If you have not already created a release keystore, please do that first by following this guide ",(0,r.kt)("a",{parentName:"p",href:"keystore-manually"},(0,r.kt)("strong",{parentName:"a"},"Create Release Keystore")),"."))),(0,r.kt)("p",null,"If you have a release keystore please follow the steps mentioned below to sign your apk builds."),(0,r.kt)("h3",{id:"open-app-in-android-studio"},"Open app in android studio"),(0,r.kt)("p",null,"Open ",(0,r.kt)("inlineCode",{parentName:"p"},"woostore_pro")," application root folder in android studio. If you do not know how to open the application in android studio then please follow the guide here ",(0,r.kt)("a",{parentName:"p",href:"/mobile-app-setup/getting-started#open-app-in-android-studio"},"Open app in android studio"),"."),(0,r.kt)("h3",{id:"reference-the-keystore-from-the-app"},"Reference the keystore from the app"),(0,r.kt)("p",null,"Create a file named ",(0,r.kt)("inlineCode",{parentName:"p"},"key.properties")," in ",(0,r.kt)("inlineCode",{parentName:"p"},"woostore_pro/android")," directory."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-properties",metastring:'title="woostore_pro / android / key.properties"',title:'"woostore_pro',"/":!0,android:!0,'key.properties"':!0},"storePassword=<password that use used to create release keystore>\nkeyPassword=<password that use used to create release keystore>\nkeyAlias=<file alias name which you used to create release keystore>\nstoreFile=<location of the key store file, such as /Users/<user name>/upload-keystore.jks>\n")),(0,r.kt)("p",null,"You need to provide your values from the previous steps for the following variables:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"storePassword"),(0,r.kt)("li",{parentName:"ul"},"keyPassword"),(0,r.kt)("li",{parentName:"ul"},"keyAlias"),(0,r.kt)("li",{parentName:"ul"},"storeFile")),(0,r.kt)("p",null,"After that save the file by pressing ",(0,r.kt)("inlineCode",{parentName:"p"},"command + s")," on Mac OS or ",(0,r.kt)("inlineCode",{parentName:"p"},"control + s")," on Windows"),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"Warning")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Keep the ",(0,r.kt)("inlineCode",{parentName:"p"},"key.properties")," file private. Don\u2019t check it into public source control."))),(0,r.kt)("p",null,"For more information check out this ",(0,r.kt)("a",{parentName:"p",href:"https://flutter.dev/deployment/android#reference-the-keystore-from-the-app"},"Official Flutter Link")),(0,r.kt)("h3",{id:"configure-signing-in-gradle"},"Configure signing in gradle"),(0,r.kt)("p",null,"Configure gradle to use your upload key when building your app in release mode by editing the ",(0,r.kt)("inlineCode",{parentName:"p"},"woostore_pro / android / app / build.gradle")," file."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Add the keystore information from your properties file before the android block:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-groovy",metastring:'title="woostore_pro / android / app / build.gradle"',title:'"woostore_pro',"/":!0,android:!0,app:!0,'build.gradle"':!0},"def keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file('key.properties')\nif (keystorePropertiesFile.exists()) {\n  keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n}\n\nandroid {\n    ...\n}\n")),(0,r.kt)("p",{parentName:"li"},"This will load the ",(0,r.kt)("inlineCode",{parentName:"p"},"key.properties")," file into the keystoreProperties object.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Replace the ",(0,r.kt)("inlineCode",{parentName:"p"},"buildTypes")," block:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-groovy"},"buildTypes {\n  release {\n      // TODO: Add your own signing config for the release build.\n      // Signing with the debug keys for now,\n      // so `flutter run --release` works.\n      signingConfig signingConfigs.debug\n  }\n}\n")),(0,r.kt)("p",{parentName:"li"},"With the signing configuration info:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-groovy"},"buildTypes {\n    debug {\n        signingConfig signingConfigs.debug\n    }\n    release {\n        signingConfig signingConfigs.release\n    }\n}\n")),(0,r.kt)("p",{parentName:"li"},"Release builds of your app will now be signed automatically.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Now ",(0,r.kt)("inlineCode",{parentName:"p"},"Save")," the file by pressing ",(0,r.kt)("inlineCode",{parentName:"p"},"command + s")," on Mac OS or ",(0,r.kt)("inlineCode",{parentName:"p"},"control + s")," on Windows"))),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"You may need to run ",(0,r.kt)("inlineCode",{parentName:"p"},"flutter clean")," after changing the gradle file. This prevents cached builds from affecting the signing process."))),(0,r.kt)("p",null,"For more information check out this ",(0,r.kt)("a",{parentName:"p",href:"https://flutter.dev/deployment/android#configure-signing-in-gradle"},"Official Flutter Link"),"."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Your modifications for creating a signed apk with your release keystore is complete. Now you can follow the guide from where you came here.")))}d.isMDXComponent=!0}}]);